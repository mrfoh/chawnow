Backend.Views.OrderAnalyticsView=Backbone.View.extend({el:"#order-analytics",ui:{orderoverview:"#order-chart",orderdistribution:"#order-distribution"},events:{"click .change-data":"changeData"},setUpUi:function(){var a=this;_.each(_.keys(a.ui),function(b){var c=a.ui[b];this.ui[b]=$(c)},this)},initialize:function(){this.setUpUi();var a=this.formatOrderOverviewData(Backend.data.orders.month);this.drawOverviewChart(a);var b=this.formatDistributionData(Backend.data.distribution.month);this.drawDistributionChart(b)},formatOrderOverviewData:function(a){var b=new Array;return _.each(a,function(a){var c={day:a.day,value:a.orders};b.push(c)}),b},formatDistributionData:function(a){var b=[{label:"Fulfilled Orders",value:a.fulfilled},{label:"Verified Orders",value:a.verified},{label:"Placed Orders",value:a.placed}];return b},drawOverviewChart:function(a){this.ui.orderoverview.html("");Morris.Area({element:"order-chart",data:a,xkey:"day",ykeys:["value"],labels:["Orders"],lineColors:["#0090d9"],lineWidth:"0",grid:"false",fillOpacity:"0.5"})},drawDistributionChart:function(a){this.ui.orderdistribution.html("");Morris.Donut({element:"order-distribution",data:a,colors:["#60bfb6","#91cdec","#eceff1"]})},changeData:function(a){var b=$(a.currentTarget),c=b.parent("div.btn-group"),d=b.attr("data-value");if(c.find("button.active").removeClass("active"),b.addClass("active"),"month"==d)var e=this.formatOrderOverviewData(Backend.data.orders.month);else if("week"==d)var e=this.formatOrderOverviewData(Backend.data.orders.week);else if("day"==d)var e=this.formatOrderOverviewData(Backend.data.orders.day);this.drawOverviewChart(e)}});